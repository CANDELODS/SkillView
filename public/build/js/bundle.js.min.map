{"version":3,"sources":["app.js","aprendizaje.js","retos.js","blog.js","perfil.js","logros.js","tags.js"],"names":["confirmDelete","event","message","preventDefault","form","target","existingModal","document","querySelector","remove","modalDelete","createElement","classList","add","innerHTML","body","appendChild","btnYes","btnNo","backdrop","closeModal","addEventListener","submit","window","SV","lockScroll","unlockScroll","e","key","retosModal","getElementById","contains","setAttribute","blogModal","profileModal","learningModal","achievementModal","registerContainer","modal","modalContent","closeButton","redirectUrl","location","pathname","startsWith","REDIRECT_DELAY","hideModal","showModal","timeoutId","setTimeout","href","clearTimeout","stopPropagation","alertas","querySelectorAll","length","forEach","alerta","toggle","mobileNav","closeBtn","openMenu","closeMenu","closest","trigger","modalId","dataset","learningModalId","closeTrigger","modalChallenges","closeTriggers","titleEl","badgeEl","descEl","consisteEl","tagsWrap","timeEl","pointsEl","startBtn","openModal","btn","title","desc","difficulty","timeMin","timeMax","points","tagsStr","tags","startUrl","textContent","split","map","t","trim","filter","Boolean","tag","p","className","blogCloseTriggers","blogTitleEl","blogDescEl","blogContentEl","blogTagsWrap","blogImg","blogImgWebp","openBlogModal","closeBlogModal","content","imgWebp","imageWebp","imgJpg","imageJpg","span","profileModalId","URLSearchParams","search","get","url","URL","searchParams","delete","history","replaceState","toString","achievementModalId","icon","status","achievementNombre","achievementDescripcion","achievementIcono","achievementTipo","achievementObjetivo","achievementDesbloqueado","achievementFecha","src","toUpperCase","unlocked","tagsInput","tagsDiv","tagsInputHidden","mostrarTags","etiqueta","ondblclick","eliminarTag","actualizarInputHidden","value","keyCode"],"mappings":"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","file":"bundle.js","sourcesContent":["//Esperamos a que el DOM esté completamente cargado\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\r\n  // =========================\r\n  // Helpers globales (SkillView)\r\n  // =========================\r\n  // Creamos un namespace global para reutilizar utilidades en otros archivos (aprendizaje, retos, blog, perfil, etc.)\r\n  // Así evitamos variables globales sueltas y estandarizamos comportamientos como bloquear scroll.\r\n  window.SV = window.SV || {};\r\n\r\n  window.SV.lockScroll = () => {\r\n    document.body.classList.add('no-scroll');\r\n  };\r\n\r\n  window.SV.unlockScroll = () => {\r\n    document.body.classList.remove('no-scroll');\r\n  };\r\n  // =========================\r\n  // FIN Helpers globales (SkillView)\r\n  // =========================\r\n\r\n  // =========================\r\n  // Cierre global de modales con ESC\r\n  // =========================\r\n  // Este listener se encarga de cerrar cualquier modal abierto\r\n  // Evita duplicar lógica de ESC en cada archivo por sección\r\n\r\n  document.addEventListener('keydown', (e) => {\r\n    if (e.key !== 'Escape') return;\r\n\r\n    // 1) Modal de Retos\r\n    const retosModal = document.getElementById('sv-challenge-modal');\r\n    if (retosModal && retosModal.classList.contains('is-open')) {\r\n      retosModal.classList.remove('is-open');\r\n      retosModal.setAttribute('aria-hidden', 'true');\r\n      window.SV.unlockScroll();\r\n      return;\r\n    }\r\n\r\n    // 2) Modal de Blog\r\n    const blogModal = document.getElementById('sv-blog-modal');\r\n    if (blogModal && blogModal.classList.contains('is-open')) {\r\n      blogModal.classList.remove('is-open');\r\n      blogModal.setAttribute('aria-hidden', 'true');\r\n      window.SV.unlockScroll();\r\n      return;\r\n    }\r\n\r\n    // 3) Modal de Perfil\r\n    const profileModal = document.querySelector('.profile-modal.profile-modal--visible');\r\n    if (profileModal) {\r\n      profileModal.classList.remove('profile-modal--visible');\r\n      profileModal.setAttribute('aria-hidden', 'true');\r\n      window.SV.unlockScroll();\r\n      return;\r\n    }\r\n\r\n    // 4) Modales de Aprendizaje (pueden existir varios)\r\n    const learningModal = document.querySelector('.learning-modal.learning-modal--visible');\r\n    if (learningModal) {\r\n      learningModal.classList.remove('learning-modal--visible');\r\n      window.SV.unlockScroll();\r\n      return;\r\n    }\r\n\r\n    // 5) Modal de Logros\r\n    const achievementModal = document.getElementById('sv-achievement-modal');\r\n    if (achievementModal && achievementModal.classList.contains('is-open')) {\r\n      achievementModal.classList.remove('is-open');\r\n      achievementModal.setAttribute('aria-hidden', 'true');\r\n      window.SV.unlockScroll();\r\n      return;\r\n    }\r\n\r\n  });\r\n  // =========================\r\n  // FIN Cierre global de modales con ESC\r\n  // =========================\r\n\r\n  //---------------MODAL DE REGISTRO EXITOSO CON REDIRECCIÓN AUTOMÁTICA----------------//\r\n\r\n  //Detectamos si el registro fue exitoso buscando el atributo data-registro-exitoso en el contenedor .register\r\n  const registerContainer = document.querySelector('.register[data-registro-exitoso=\"1\"]');\r\n  const modal = document.getElementById('modal-registro-exitoso');\r\n\r\n  // Solo si estamos en la vista de registro exitoso Y existe el modal,\r\n  // ejecutamos la lógica del modal. PERO no hacemos return, para no cortar el resto del código.\r\n  if (registerContainer && modal) {\r\n    const modalContent = modal.querySelector('.modal__content');\r\n    const closeButton = modal.querySelector('[data-modal-close]');\r\n    let redirectUrl = '/principal';\r\n    if (window.location.pathname.startsWith('/admin/usuarios/editar')) {\r\n      redirectUrl = '/admin/usuarios';\r\n    } else if (window.location.pathname.startsWith('/admin/habilidades/crear') || window.location.pathname.startsWith('/admin/habilidades/editar')) {\r\n      redirectUrl = '/admin/habilidades';\r\n    }\r\n    const REDIRECT_DELAY = 5000; // 5 segundos\r\n\r\n    // Mostrar el modal\r\n    const showModal = () => {\r\n      //Agregamos la clase modal--visible para mostrar el modal\r\n      modal.classList.add('modal--visible');\r\n      //Bloqueamos el scroll usando el helper global\r\n      window.SV.lockScroll();\r\n    };\r\n\r\n    // Cerrar el modal\r\n    const hideModal = () => {\r\n      //Quitamos la clase modal--visible para ocultar el modal\r\n      modal.classList.remove('modal--visible');\r\n      //Desbloqueamos el scroll usando el helper global\r\n      window.SV.unlockScroll();\r\n    };\r\n\r\n    // Mostrar el modal inmediatamente cuando se cargue esta vista\r\n    //Despues de detectar un registro exitoso y verificar que el modal existe entonces...\r\n    showModal();\r\n\r\n    // Programar la redirección automática\r\n    const timeoutId = setTimeout(() => {\r\n      window.location.href = redirectUrl;\r\n    }, REDIRECT_DELAY);\r\n\r\n    // Si el usuario hace clic en el botón \"Ir ahora...\"\r\n    if (closeButton) {\r\n      closeButton.addEventListener('click', () => {\r\n        clearTimeout(timeoutId); // Cancelar la redirección automática\r\n        hideModal(); // Ocultar el modal\r\n        window.location.href = redirectUrl;\r\n      });\r\n    }\r\n\r\n    // Cerrar al hacer clic fuera del contenido (en el backdrop)\r\n    modal.addEventListener('click', (event) => {\r\n      if (event.target === modal || event.target.classList.contains('modal__backdrop')) {\r\n        clearTimeout(timeoutId);\r\n        hideModal();\r\n        window.location.href = redirectUrl;\r\n      }\r\n    });\r\n\r\n    // Evitar que clics dentro del contenido cierren el modal\r\n    if (modalContent) {\r\n      modalContent.addEventListener('click', (event) => {\r\n        event.stopPropagation();\r\n      });\r\n    }\r\n    /*event.stopPropagation() detiene la propagación del evento hacia arriba en el DOM.\r\n    Si el usuario hace clic sobre el contenido del modal (título, texto, botón)\r\n    ese clic no se propaga al listener que está en modal.addEventListener('click', ...).\r\n    Sin esto:\r\n    Hacer clic en el botón podría contarse también como clic en el fondo y disparar el cierre doble.*/\r\n  }\r\n\r\n  //---------------FIN MODAL DE REGISTRO EXITOSO CON REDIRECCIÓN AUTOMÁTICA----------------//\r\n\r\n  //---------------OCULTAR ALERTAS DESPUES DE UNOS SEGUNDOS----------------//\r\n  //ESTE CÓDIGO AHORA SIEMPRE SE EJECUTA EN CUALQUIER VISTA\r\n\r\n  const alertas = document.querySelectorAll('.alerta');\r\n\r\n  if (alertas.length > 0) {\r\n    alertas.forEach(alerta => {\r\n      // Esperamos 4 segundos antes de ocultarla\r\n      setTimeout(() => {\r\n        alerta.classList.add('alerta--ocultar');\r\n\r\n        // Después de la animación, la removemos\r\n        setTimeout(() => {\r\n          alerta.remove();\r\n        }, 500); // coincide con la duración del transition en CSS\r\n      }, 4000);\r\n    });\r\n  }\r\n  //---------------FIN OCULTAR ALERTAS DESPUES DE UNOS SEGUNDOS----------------//\r\n\r\n  //---------------MENU MOBILE----------------//\r\n  const toggle = document.querySelector('.site-header__toggle');\r\n  const mobileNav = document.querySelector('.site-nav--mobile');\r\n  const closeBtn = document.querySelector('.site-nav__mobile-close');\r\n\r\n  // Antes tenías: if (!toggle || !mobileNav) return;\r\n  // Eso \"cortaba\" el resto de lógicas dentro del DOMContentLoaded.\r\n  // Ahora solo ejecutamos el bloque del menú si existe en el DOM.\r\n  if (toggle && mobileNav) {\r\n\r\n    const openMenu = () => {\r\n      mobileNav.classList.add('site-nav--mobile-open');\r\n      toggle.setAttribute('aria-expanded', 'true');\r\n      //Si quieres bloquear scroll cuando el menú esté abierto, puedes hacerlo aquí:\r\n      //window.SV.lockScroll();\r\n    };\r\n\r\n    const closeMenu = () => {\r\n      mobileNav.classList.remove('site-nav--mobile-open');\r\n      toggle.setAttribute('aria-expanded', 'false');\r\n      //Si bloqueas scroll al abrir, desbloquea al cerrar:\r\n      //window.SV.unlockScroll();\r\n    };\r\n\r\n    toggle.addEventListener('click', () => {\r\n      const isOpen = mobileNav.classList.contains('site-nav--mobile-open');\r\n      if (isOpen) {\r\n        closeMenu();\r\n      } else {\r\n        openMenu();\r\n      }\r\n    });\r\n\r\n    if (closeBtn) {\r\n      closeBtn.addEventListener('click', closeMenu);\r\n    }\r\n\r\n    // Opcional: cerrar menú al hacer click en un enlace\r\n    mobileNav.addEventListener('click', (e) => {\r\n      if (e.target.closest('.site-nav__link')) {\r\n        closeMenu();\r\n      }\r\n    });\r\n  }\r\n\r\n  //---------------FIN MENU MOBILE----------------//\r\n\r\n});\r\n\r\n//Mensaje de confirmación con modal personalizado\r\nfunction confirmDelete(event, message) {\r\n  // 1. Evitamos que el formulario se envíe automáticamente\r\n  event.preventDefault();\r\n\r\n  // 2. Obtenemos el formulario que disparó el evento\r\n  const form = event.target;\r\n\r\n  // 3. Si ya existe un modal abierto, lo eliminamos para no duplicar\r\n  const existingModal = document.querySelector('.modal-delete');\r\n  if (existingModal) {\r\n    existingModal.remove();\r\n  }\r\n\r\n  // 4. Creamos el contenedor del modal\r\n  const modalDelete = document.createElement('div');\r\n  modalDelete.classList.add('modal-delete');\r\n  modalDelete.innerHTML = `\r\n        <div class=\"modal-delete__backdrop\"></div>\r\n        <div class=\"modal-delete__content\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"modal-delete-title\">\r\n            <h2 id=\"modal-delete-title\" class=\"modal-delete__title\">Confirmar eliminación</h2>\r\n            <p class=\"modal-delete__text\">\r\n                ${message || \"¿Estás seguro de eliminar este elemento?\"}\r\n            </p>\r\n            <div class=\"modal-delete__actions\">\r\n                <button type=\"button\" id=\"confirm-yes\" class=\"modal-delete__btn--yes\">\r\n                    Sí, eliminar\r\n                </button>\r\n                <button type=\"button\" id=\"confirm-no\" class=\"modal-delete__btn--no\">\r\n                    No, cancelar\r\n                </button>\r\n            </div>\r\n        </div>\r\n    `;\r\n\r\n  // 5. Lo agregamos al DOM\r\n  document.body.appendChild(modalDelete);\r\n\r\n  // 6. Obtenemos los botones\r\n  const btnYes = modalDelete.querySelector('#confirm-yes');\r\n  const btnNo = modalDelete.querySelector('#confirm-no');\r\n  const backdrop = modalDelete.querySelector('.modal-delete__backdrop');\r\n\r\n  // Función para cerrar el modal\r\n  const closeModal = () => {\r\n    modalDelete.remove();\r\n  };\r\n\r\n  // 7. Si el usuario confirma -> cerramos modal y enviamos el formulario\r\n  btnYes.addEventListener('click', () => {\r\n    closeModal();\r\n    form.submit(); // Aquí sí se envía al servidor\r\n  });\r\n\r\n  // 8. Si el usuario cancela -> solo cerramos modal\r\n  btnNo.addEventListener('click', closeModal);\r\n\r\n  // 9. Cerrar si hace clic en el fondo oscuro\r\n  backdrop.addEventListener('click', closeModal);\r\n\r\n  // 10. Devolvemos false por si acaso, para que el onsubmit no continúe\r\n  return false;\r\n}\r\n","(function () {\r\n    //---------------MODAL DE LAS CARDS DE LA SECCIÓN APRENDIZAJE----------------//\r\n    const body = document.body;\r\n    // Abrir modal\r\n    //“Escucha cualquier click en TODA la página”. No escuchamos solo cada botón ya que el DOM puede\r\n    //Cambiar dinámicamente, por lo cual esta técnica \"event delegation\" garantiza que funcione siempre\r\n    document.addEventListener('click', (e) => {\r\n        //¿El elemento en el que hicieron click tiene la clase .js-learning-modal-open\r\n        //O está dentro de un elemento con esa clase?\r\n        const trigger = e.target.closest('.js-learning-modal-open');\r\n        //Si no, salimos con return y no hacemos nada, esto nos ayuda a evitar que cada click en la página\r\n        //Active algo\r\n        if (!trigger) return;\r\n        //Evitamos que el navegador ejecute su acción normal\r\n        e.preventDefault();\r\n        //Leemos el atributo data-learning-modal-id=\"learning-modal-habilidad-3 (Por ejemplo)\"\r\n        const modalId = trigger.dataset.learningModalId;\r\n        //Buscamos el modal en toda la página: document.getElementById(\"learning-modal-habilidad-3\")\r\n        const modal = document.getElementById(modalId);\r\n        //Si no lo encuentra, salimos con return y no hacemos nada\r\n        if (!modal) return;\r\n        //Mostramos el modal en pantalla\r\n        modal.classList.add('learning-modal--visible');\r\n        //Antes usabamos: body.classList.add('no-scroll');\r\n        //Ahora unificamos con el helper global (app.js): window.SV.lockScroll()\r\n        if (window.SV && typeof window.SV.lockScroll === 'function') {\r\n            window.SV.lockScroll();\r\n        } else {\r\n            //Fallback por si por alguna razón no cargó app.js primero\r\n            body.classList.add('no-scroll');\r\n        }\r\n    });\r\n\r\n    // Cerrar modal (botón X, botón Volver, backdrop)\r\n    document.addEventListener('click', (e) => {\r\n        //Todo lo que tenga data-modal-close cierra el modal\r\n        //Seleccionamos los objetos del DOM que tiene el atributo data-learning-modal-close\r\n        const closeTrigger = e.target.closest('[data-learning-modal-close]');\r\n        if (!closeTrigger) return;\r\n\r\n        const modal = closeTrigger.closest('.learning-modal');\r\n        if (!modal) return;\r\n        //Quitamos las clases que permiten mostrar el modal\r\n        modal.classList.remove('learning-modal--visible');\r\n        //Antes usabamos: body.classList.remove('no-scroll');\r\n        //Ahora unificamos con el helper global (app.js): window.SV.unlockScroll()\r\n        if (window.SV && typeof window.SV.unlockScroll === 'function') {\r\n            window.SV.unlockScroll();\r\n        } else {\r\n            //Fallback por si por alguna razón no cargó app.js primero\r\n            body.classList.remove('no-scroll');\r\n        }\r\n    });\r\n\r\n    //\"El motodo closest busca el elemento padre mas cercano (Incluyendose a si mismo) que coincida con un selector\"\r\n    /*<div class=\"learning-modal\">           ← closest(\".learning-modal\") devuelve este\r\n     <div class=\"content\">\r\n        <button data-learning-modal-close>Volver</button>  ← usuario hace click aquí\r\n     </div>\r\n    </div>\r\n    Al escribir: const modal = closeTrigger.closest('.learning-modal'); JS pregunta:\r\n    ¿El botón tiene la clase .learning-modal? NO\r\n    ¿Su padre <div class=\"content\"> la tiene? NO\r\n    ¿Su abuelo <div class=\"learning-modal\"> la tiene? SI : Nos devuelve el elemento\r\n    \r\n    El método closest es muy útil ya que como tenemos varios modales normalmente tendríamos que identificar\r\n    El modal con id específico para cerrarlo, pero con closest el botón ya \"vive\" deontro de su propio modal\r\n  */\r\n    //---------------FIN MODAL DE LAS CARDS DE LA SECCIÓN APRENDIZAJE----------------//\r\n})();\r\n","(function () {\r\n    //---------------MODAL DE LAS CARDS DE LA SECCIÓN RETOS----------------//\r\n    const modalChallenges = document.getElementById('sv-challenge-modal');\r\n    if (modalChallenges) {\r\n        const closeTriggers = modalChallenges.querySelectorAll('[data-sv-challenge-close]');\r\n        const titleEl = modalChallenges.querySelector('[data-sv-challenge-title]') || modalChallenges.querySelector('#sv-challenge-modal-title');\r\n        const badgeEl = modalChallenges.querySelector('[data-sv-challenge-badge]');\r\n        const descEl = modalChallenges.querySelector('[data-sv-challenge-desc]');\r\n        const consisteEl = modalChallenges.querySelector('[data-sv-challenge-consiste]');\r\n        const tagsWrap = modalChallenges.querySelector('[data-sv-challenge-tags]');\r\n        const timeEl = modalChallenges.querySelector('[data-sv-challenge-time]');\r\n        const pointsEl = modalChallenges.querySelector('[data-sv-challenge-points]');\r\n        const startBtn = modalChallenges.querySelector('[data-sv-challenge-start]');\r\n\r\n        const openModal = () => {\r\n            //Agregamos la clase para mostrar el modal\r\n            modalChallenges.classList.add('is-open');\r\n            //Cambiamos la accesibilidad\r\n            modalChallenges.setAttribute('aria-hidden', 'false');\r\n            //Bloqueamos el scroll del body\r\n            //Antes usabamos: document.body.style.overflow = 'hidden';\r\n            //Ahora unificamos con el helper global (app.js): window.SV.lockScroll()\r\n            if (window.SV && typeof window.SV.lockScroll === 'function') {\r\n                window.SV.lockScroll();\r\n            } else {\r\n                //Fallback por si por alguna razón no cargó app.js primero\r\n                document.body.classList.add('no-scroll');\r\n            }\r\n        };\r\n\r\n        const closeModal = () => {\r\n            modalChallenges.classList.remove('is-open');\r\n            modalChallenges.setAttribute('aria-hidden', 'true');\r\n            //Antes usabamos: document.body.style.overflow = '';\r\n            //Ahora unificamos con el helper global (app.js): window.SV.unlockScroll()\r\n            if (window.SV && typeof window.SV.unlockScroll === 'function') {\r\n                window.SV.unlockScroll();\r\n            } else {\r\n                //Fallback por si por alguna razón no cargó app.js primero\r\n                document.body.classList.remove('no-scroll');\r\n            }\r\n        };\r\n\r\n        // Cerrar (X, backdrop, Cancelar)\r\n        //Recorremos todos los botones de cierre y les agregamos el evento click\r\n        closeTriggers.forEach(btn => btn.addEventListener('click', closeModal));\r\n\r\n        // Abrir desde cualquier card\r\n        document.addEventListener('click', (e) => {\r\n            const btn = e.target.closest('[data-sv-challenge-open]');\r\n            if (!btn) return;\r\n\r\n            const title = btn.dataset.title || 'Reto';\r\n            const desc = btn.dataset.desc || '';\r\n            const difficulty = btn.dataset.difficulty || '';\r\n            const timeMin = btn.dataset.timeMin || '';\r\n            const timeMax = btn.dataset.timeMax || '';\r\n            const points = btn.dataset.points || '';\r\n            const tagsStr = btn.dataset.tags || '';\r\n            const startUrl = btn.dataset.startUrl || '#';\r\n\r\n            // Pintar contenido\r\n            if (titleEl) titleEl.textContent = title;\r\n            if (badgeEl) badgeEl.textContent = difficulty;\r\n            if (descEl) descEl.textContent = desc;\r\n\r\n            // Si no tienes \"consiste\" por BD aún, reutilizamos desc o un texto base\r\n            if (consisteEl) {\r\n                consisteEl.textContent = 'Este reto te presentará una situación realista donde deberás aplicar tus habilidades blandas. Responderás preguntas y tomarás decisiones que serán evaluadas para medir tu desempeño.';\r\n            }\r\n\r\n            // Tags\r\n            if (tagsWrap) {\r\n                tagsWrap.innerHTML = '';\r\n                //Split separa el string en un array usando la coma como separador, con map le quitamos espacios y con filter(Boolean) eliminamos elementos vacíos\r\n                const tags = tagsStr.split(',').map(t => t.trim()).filter(Boolean);\r\n                tags.forEach(tag => {\r\n                    const p = document.createElement('p');\r\n                    p.className = 'sv-challenge-modal__tag';\r\n                    p.textContent = tag;\r\n                    tagsWrap.appendChild(p);\r\n                });\r\n            }\r\n\r\n            if (timeEl) timeEl.textContent = `${timeMin}-${timeMax} minutos`;\r\n            if (pointsEl) pointsEl.textContent = `${points} puntos`;\r\n            if (startBtn) startBtn.setAttribute('href', startUrl);\r\n            //Cargamos todo y luego abrimos el modal\r\n            openModal();\r\n        });\r\n    }\r\n    //---------------FIN MODAL DE LAS CARDS DE LA SECCIÓN RETOS----------------//\r\n})();\r\n","(function () {\r\n    //---------------MODAL DE LAS CARDS DE LA SECCIÓN BLOG----------------//\r\n    const blogModal = document.getElementById('sv-blog-modal');\r\n\r\n    if (blogModal) {\r\n        const blogCloseTriggers = blogModal.querySelectorAll('[data-sv-blog-close]');\r\n        const blogTitleEl = blogModal.querySelector('[data-sv-blog-title]');\r\n        const blogDescEl = blogModal.querySelector('[data-sv-blog-desc]');\r\n        const blogContentEl = blogModal.querySelector('[data-sv-blog-content]');\r\n        const blogTagsWrap = blogModal.querySelector('[data-sv-blog-tags]');\r\n        const blogImg = blogModal.querySelector('#sv-blog-modal-img');\r\n        const blogImgWebp = blogModal.querySelector('#sv-blog-modal-img-webp');\r\n\r\n        const openBlogModal = () => {\r\n            blogModal.classList.add('is-open');\r\n            blogModal.setAttribute('aria-hidden', 'false');\r\n            //Antes usabamos: document.body.style.overflow = 'hidden';\r\n            //Ahora unificamos con el helper global (app.js): window.SV.lockScroll()\r\n            if (window.SV && typeof window.SV.lockScroll === 'function') {\r\n                window.SV.lockScroll();\r\n            } else {\r\n                //Fallback por si por alguna razón no cargó app.js primero\r\n                document.body.classList.add('no-scroll');\r\n            }\r\n        };\r\n\r\n        const closeBlogModal = () => {\r\n            blogModal.classList.remove('is-open');\r\n            blogModal.setAttribute('aria-hidden', 'true');\r\n            //Antes usabamos: document.body.style.overflow = '';\r\n            //Ahora unificamos con el helper global (app.js): window.SV.unlockScroll()\r\n            if (window.SV && typeof window.SV.unlockScroll === 'function') {\r\n                window.SV.unlockScroll();\r\n            } else {\r\n                //Fallback por si por alguna razón no cargó app.js primero\r\n                document.body.classList.remove('no-scroll');\r\n            }\r\n        };\r\n\r\n        blogCloseTriggers.forEach(btn => btn.addEventListener('click', closeBlogModal));\r\n\r\n        document.addEventListener('click', (e) => {\r\n            const btn = e.target.closest('[data-sv-blog-open]');\r\n            if (!btn) return;\r\n\r\n            const title = btn.dataset.title || 'Artículo';\r\n            const desc = btn.dataset.desc || '';\r\n            const content = btn.dataset.content || '';\r\n            const tagsStr = btn.dataset.tags || '';\r\n            const imgWebp = btn.dataset.imageWebp || '';\r\n            const imgJpg = btn.dataset.imageJpg || '';\r\n\r\n            if (blogTitleEl) blogTitleEl.textContent = title;\r\n            if (blogDescEl) blogDescEl.textContent = desc;\r\n\r\n            // Contenido: lo pintamos como texto (seguro). Si luego quieres HTML, lo controlamos.\r\n            if (blogContentEl) blogContentEl.textContent = content;\r\n\r\n            // Imagen\r\n            if (blogImgWebp) blogImgWebp.setAttribute('srcset', imgWebp);\r\n            if (blogImg) {\r\n                blogImg.setAttribute('src', imgJpg);\r\n                blogImg.setAttribute('alt', `Imagen del artículo ${title}`);\r\n            }\r\n\r\n            // Tags\r\n            if (blogTagsWrap) {\r\n                blogTagsWrap.innerHTML = '';\r\n                const tags = tagsStr.split(',').map(t => t.trim()).filter(Boolean);\r\n                tags.forEach(tag => {\r\n                    const span = document.createElement('span');\r\n                    span.className = 'sv-blog-modal__tag';\r\n                    span.textContent = tag;\r\n                    blogTagsWrap.appendChild(span);\r\n                });\r\n            }\r\n\r\n            openBlogModal();\r\n        });\r\n    }\r\n    //---------------FIN MODAL DE LAS CARDS DE LA SECCIÓN BLOG----------------//\r\n})();\r\n","(function () {\r\n    //---------------MODAL EDITAR PERFIL----------------//\r\n    document.addEventListener('click', (e) => {\r\n        const trigger = e.target.closest('.js-profile-modal-open');\r\n        if (!trigger) return;\r\n\r\n        e.preventDefault();\r\n\r\n        const modalId = trigger.dataset.profileModalId;\r\n        const modal = document.getElementById(modalId);\r\n        if (!modal) return;\r\n\r\n        modal.classList.add('profile-modal--visible');\r\n        modal.setAttribute('aria-hidden', 'false');\r\n        //Antes usabamos: document.body.classList.add('no-scroll');\r\n        //Ahora unificamos con el helper global (app.js): window.SV.lockScroll()\r\n        if (window.SV && typeof window.SV.lockScroll === 'function') {\r\n            window.SV.lockScroll();\r\n        } else {\r\n            //Fallback por si por alguna razón no cargó app.js primero\r\n            document.body.classList.add('no-scroll');\r\n        }\r\n    });\r\n\r\n    document.addEventListener('click', (e) => {\r\n        const closeTrigger = e.target.closest('[data-profile-modal-close]');\r\n        if (!closeTrigger) return;\r\n\r\n        const modal = closeTrigger.closest('.profile-modal');\r\n        if (!modal) return;\r\n\r\n        modal.classList.remove('profile-modal--visible');\r\n        modal.setAttribute('aria-hidden', 'true');\r\n        //Antes usabamos: document.body.classList.remove('no-scroll');\r\n        //Ahora unificamos con el helper global (app.js): window.SV.unlockScroll()\r\n        if (window.SV && typeof window.SV.unlockScroll === 'function') {\r\n            window.SV.unlockScroll();\r\n        } else {\r\n            //Fallback por si por alguna razón no cargó app.js primero\r\n            document.body.classList.remove('no-scroll');\r\n        }\r\n    });\r\n\r\n    // ---------- Cerrar modal en éxito (cuando venimos de redirect) ----------\r\n    //URLSearchParams nos permite trabajar con los query params de la URL.\r\n    //Windows.location.search nos da la parte de query params de la URL. ejemplo /perfil?actualizado=1 -> \"?actualizado=1\"\r\n    const params = new URLSearchParams(window.location.search);\r\n\r\n    // Si el perfil se actualizó, nos aseguramos de que el modal esté cerrado\r\n    //params.get nos devuelve 1 si el query param 'actualizado' existe en la URL, si no existe, devuelve null\r\n    if (params.get('actualizado') === '1') {\r\n        const modal = document.getElementById('profile-edit-modal');\r\n        if (modal) {\r\n            modal.classList.remove('profile-modal--visible');\r\n            modal.setAttribute('aria-hidden', 'true');\r\n            //Unificamos el scroll con helper global\r\n            //Typeof nos sirve para confirmar que esa propiedad existe y que realmente sea una función antes de llamarla\r\n            if (window.SV && typeof window.SV.unlockScroll === 'function') {\r\n                window.SV.unlockScroll();\r\n            } else {\r\n                //Fallback por si por alguna razón no cargó app.js primero\r\n                document.body.classList.remove('no-scroll');\r\n            }\r\n        }\r\n\r\n        // Limpiamos la URL para que no vuelva a salir el modal al recargar\r\n        //Usamos el objeto URL completo, esto nos representa toda la URL como un objeto al cual podemos acceder a sus propiedades\r\n        //url.pathname nos da la parte del path de la URL sin los query params = /perfil\r\n        //url.searchParams nos da acceso a los query params para poder manipularlos\r\n        const url = new URL(window.location.href);\r\n        //Eliminamos el parámetro 'actualizado' de los query params\r\n        url.searchParams.delete('actualizado');\r\n        //Cambiamos la URL sin recargar la página\r\n        window.history.replaceState({}, '', url.toString());\r\n        //Usamo replaceState y no pushState para no agregar un nuevo historial en el navegador, sino reemplazar el actual\r\n        //Así evitamos que el usuario pueda volver a la URL con el query param 'actualizado' usando el botón de atrás\r\n    }\r\n\r\n    //---------------FIN MODAL EDITAR PERFIL----------------//\r\n})();\r\n","(function () {\r\n  // Abrir modal\r\n  document.addEventListener('click', (e) => {\r\n    const trigger = e.target.closest('.js-achievement-modal-open');\r\n    if (!trigger) return;\r\n\r\n    e.preventDefault();\r\n\r\n    const modalId = trigger.dataset.achievementModalId;\r\n    const modal = document.getElementById(modalId);\r\n    if (!modal) return;\r\n\r\n    const icon   = modal.querySelector('#sv-achievement-modal-icon');\r\n    const title  = modal.querySelector('#sv-achievement-modal-title');\r\n    const tag    = modal.querySelector('#sv-achievement-modal-tag');\r\n    const desc   = modal.querySelector('#sv-achievement-modal-desc');\r\n    const status = modal.querySelector('#sv-achievement-modal-status');\r\n\r\n    const {\r\n      achievementNombre,\r\n      achievementDescripcion,\r\n      achievementIcono,\r\n      achievementTipo,\r\n      achievementObjetivo,\r\n      achievementDesbloqueado,\r\n      achievementFecha\r\n    } = trigger.dataset;\r\n\r\n    if (icon)  icon.src = achievementIcono || '';\r\n    if (title) title.textContent = achievementNombre || '';\r\n    if (tag)   tag.textContent = (achievementTipo || '').toUpperCase();\r\n    if (desc)  desc.textContent = achievementDescripcion || '';\r\n\r\n    const unlocked = achievementDesbloqueado === '1';\r\n\r\n    if (status) {\r\n      status.classList.toggle('is-locked', !unlocked);\r\n\r\n      if (unlocked) {\r\n        status.innerHTML = `\r\n          <p class=\"achievement-modal__status-label\">Desbloqueado</p>\r\n          <p class=\"achievement-modal__status-date\">${achievementFecha || ''}</p>\r\n        `;\r\n      } else {\r\n        status.innerHTML = `\r\n          <p class=\"achievement-modal__status-label\">Bloqueado</p>\r\n          <p class=\"achievement-modal__status-date\">Objetivo: ${achievementObjetivo || ''}</p>\r\n        `;\r\n      }\r\n    }\r\n\r\n    modal.classList.add('is-open');\r\n    modal.setAttribute('aria-hidden', 'false');\r\n\r\n    if (window.SV && typeof window.SV.lockScroll === 'function') {\r\n      window.SV.lockScroll();\r\n    } else {\r\n      document.body.classList.add('no-scroll');\r\n    }\r\n  });\r\n\r\n  // Cerrar modal\r\n  document.addEventListener('click', (e) => {\r\n    const closeTrigger = e.target.closest('[data-achievement-modal-close]');\r\n    if (!closeTrigger) return;\r\n\r\n    const modal = closeTrigger.closest('.achievement-modal');\r\n    if (!modal) return;\r\n\r\n    modal.classList.remove('is-open');\r\n    modal.setAttribute('aria-hidden', 'true');\r\n\r\n    if (window.SV && typeof window.SV.unlockScroll === 'function') {\r\n      window.SV.unlockScroll();\r\n    } else {\r\n      document.body.classList.remove('no-scroll');\r\n    }\r\n  });\r\n})();\r\n","//Función IFEE, se llama inmediatamente sin tener nombre, además las variables solo existen en este archivo\r\n(function(){\r\n    const tagsInput = document.querySelector('#tags_input');\r\n    if(tagsInput){\r\n        const tagsDiv = document.querySelector('#tags');\r\n        const tagsInputHidden = document.querySelector('[name=\"tag\"]');\r\n        let tags = [];\r\n        //Recuperar del input oculto\r\n        if(tagsInputHidden.value !== ''){\r\n            tags = tagsInputHidden.value.split(',');\r\n            mostrarTags();\r\n        }\r\n        //Escuchar los cambios en el input\r\n        tagsInput.addEventListener('keypress', guardarTag)\r\n\r\n        function guardarTag(e){\r\n            //El keyCode Nos Permite Saber El Código De La Tecla Presionada, En Este Caso 44 = coma(,)\r\n            if (e.keyCode === 44) {\r\n                //Para Que No Se Ponga La Coma En Automático Cuando Se Borra El Input Quitamos La Acción Por Defecto Del Form\r\n                e.preventDefault();\r\n                //Prevenir Espacios En Blanco\r\n                if (e.target.value.trim() === '' || e.target.value < 1) {\r\n                    return;\r\n                }\r\n                //Tomamos Una Copia Del Arreglo Tags, Y Reemplazamos El Contenido Con Lo Que Hay En El Input\r\n                tags = [...tags, e.target.value.trim()];\r\n                //Vaciamos El Input Cada Vez Que Se Pone Una Coma(,)\r\n                tagsInput.value = '';\r\n                mostrarTags();\r\n            }\r\n        }\r\n\r\n        function mostrarTags(){\r\n            tagsDiv.textContent = '';\r\n            //Iteramos El Arreglo Que Tiene Los Tags, Creo La Variable Momentanea Tag Y Hago Escripting Para\r\n            //Mostrar Los Tags En El Lugar Deseado\r\n            tags.forEach(tag =>{\r\n                const etiqueta = document.createElement('LI');\r\n                etiqueta.classList.add('login__tag');\r\n                etiqueta.textContent = tag;\r\n                //Asignamos un evento y una función a cada Tags conforme es creado\r\n                etiqueta.ondblclick = eliminarTag; //No Ponemos eliminarTag() Por Que Llamaría La Función Inmediatamente\r\n                tagsDiv.appendChild(etiqueta);\r\n            })\r\n            actualizarInputHidden();\r\n        }\r\n\r\n        //Como Su Nombre lo Dice, Nos Permitirá Eliminar Los Tags, Se Pasa El Evento (e) Para Identificar El Tag\r\n        function eliminarTag(e){\r\n            //Removemos el Tag del DOM\r\n            e.target.remove();\r\n            //Quitamos El Tag Del Arreglo\r\n            //Filtra o trae todos los tags que no sean al que yo le de click\r\n            tags = tags.filter(tag => tag !== e.target.textContent);\r\n            //Refrescamos Y Sincronizamos El Input Oculto Con Los Nuevos Valores\r\n            actualizarInputHidden();\r\n        }\r\n\r\n        //Nos servirá para actualizar el input hidden cuando agregamos y quitamos etiquetas\r\n        function actualizarInputHidden(){\r\n            //Convertimos El Arreglo En Un String\r\n            tagsInputHidden.value = tags.toString();\r\n        }\r\n    }\r\n})(); //Este Parentecis Manda A Llamar A La Función"]}