{"version":3,"sources":["app.js"],"names":["document","addEventListener","querySelector","modal","getElementById","modalContent","closeButton","hideModal","classList","remove","add","timeoutId","setTimeout","window","location","href","clearTimeout","event","target","contains","stopPropagation"],"mappings":"AACAA,SAAAC,iBAAA,mBAAA,KAIA,IADAD,SAAAE,cAAA,wCACA,OAGA,MAAAC,EAAAH,SAAAI,eAAA,0BACA,IAAAD,EAAA,OAEA,MAAAE,EAAAF,EAAAD,cAAA,mBACAI,EAAAH,EAAAD,cAAA,sBAWAK,EAAA,KAEAJ,EAAAK,UAAAC,OAAA,mBANAN,EAAAK,UAAAE,IAAA,kBAcA,MAAAC,EAAAC,WAAA,KACAC,OAAAC,SAAAC,KArBA,cACA,KAwBAT,GACAA,EAAAL,iBAAA,QAAA,KACAe,aAAAL,GACAJ,IACAM,OAAAC,SAAAC,KA7BA,eAkCAZ,EAAAF,iBAAA,QAAAgB,KACAA,EAAAC,SAAAf,GAAAc,EAAAC,OAAAV,UAAAW,SAAA,sBACAH,aAAAL,GACAJ,IACAM,OAAAC,SAAAC,KAtCA,gBA2CAV,GACAA,EAAAJ,iBAAA,QAAAgB,IACAA,EAAAG","file":"bundle.js","sourcesContent":["//Esperamos a que el DOM esté completamente cargado\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n//---------------MODAL DE REGISTRO EXITOSO CON REDIRECCIÓN AUTOMÁTICA----------------//\r\n//Detectamos si el registro fue exitoso buscando el atributo data-registro-exitoso en el contenedor .register\r\n  const registerContainer = document.querySelector('.register[data-registro-exitoso=\"1\"]');\r\n  if (!registerContainer) return; // Si no hubo registro exitoso, no hacemos nada\r\n\r\n//Buscamos el modal en el DOM\r\n  const modal = document.getElementById('modal-registro-exitoso');\r\n  if (!modal) return; // Si no se encuentra el modal, no hacemos nada\r\n\r\n  const modalContent = modal.querySelector('.modal__content');\r\n  const closeButton = modal.querySelector('[data-modal-close]');\r\n  const redirectUrl = '/principal';\r\n  const REDIRECT_DELAY = 5000; // 5 segundos\r\n\r\n  // Mostrar el modal\r\n  const showModal = () => {\r\n    //Agregamos la clase modal--visible para mostrar el modal\r\n    modal.classList.add('modal--visible');\r\n  };\r\n\r\n  // Cerrar el modal\r\n  const hideModal = () => {\r\n    //Quitamos la clase modal--visible para ocultar el modal\r\n    modal.classList.remove('modal--visible');\r\n  };\r\n\r\n  // Mostrar el modal inmediatamente cuando se cargue esta vista\r\n  //Despues de detectar un registro exitoso y verificar que el modal existe entonces...\r\n  showModal();\r\n\r\n  // Programar la redirección automática\r\n  const timeoutId = setTimeout(() => {\r\n    window.location.href = redirectUrl;\r\n  }, REDIRECT_DELAY);\r\n\r\n  // Si el usuario hace clic en el botón \"Ir ahora...\"\r\n  if (closeButton) {\r\n    closeButton.addEventListener('click', () => {\r\n      clearTimeout(timeoutId); // Cancelar la redirección automática\r\n      hideModal(); // Ocultar el modal\r\n      window.location.href = redirectUrl;\r\n    });\r\n  }\r\n\r\n  // Cerrar al hacer clic fuera del contenido (en el backdrop)\r\n  modal.addEventListener('click', (event) => {\r\n    if (event.target === modal || event.target.classList.contains('modal__backdrop')) {\r\n      clearTimeout(timeoutId);\r\n      hideModal();\r\n      window.location.href = redirectUrl;\r\n    }\r\n  });\r\n\r\n  // Evitar que clics dentro del contenido cierren el modal\r\n  if (modalContent) {\r\n    modalContent.addEventListener('click', (event) => {\r\n      event.stopPropagation();\r\n    });\r\n  }\r\n  /*event.stopPropagation() detiene la propagación del evento hacia arriba en el DOM.\r\n    Si el usuario hace clic sobre el contenido del modal (título, texto, botón)\r\n    ese clic no se propaga al listener que está en modal.addEventListener('click', ...).\r\n    Sin esto:\r\n    Hacer clic en el botón podría contarse también como clic en el fondo y disparar el cierre doble.*/\r\n\r\n//---------------FIN MODAL DE REGISTRO EXITOSO CON REDIRECCIÓN AUTOMÁTICA----------------//\r\n});\r\n"]}